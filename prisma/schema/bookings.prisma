model Booking {
  id                 String           @id @default(cuid())
  bookingNumber      String           @unique
  guestId            String
  roomId             String
  checkInDate        DateTime
  checkOutDate       DateTime
  actualCheckIn      DateTime?
  actualCheckOut     DateTime?
  numberOfGuests     Int              @default(1)
  numberOfChildren   Int              @default(0)
  specialRequests    String?
  roomRate           Float
  totalAmount        Float
  taxAmount          Float            @default(0)
  serviceCharges     Float            @default(0)
  discountAmount     Float            @default(0)
  finalAmount        Float
  status             BookingStatus    @default(PENDING)
  source             String?
  notes              String?
  cancellationReason String?
  createdById        String?
  updatedById        String?
  createdAt          DateTime         @default(now())
  updatedAt          DateTime         @updatedAt
  services           BookingService[]
  createdBy          Admin?           @relation("AdminCreatedBookings", fields: [createdById], references: [id])
  guest              Guest            @relation(fields: [guestId], references: [id])
  room               Room             @relation(fields: [roomId], references: [id])
  updatedBy          Admin?           @relation("AdminUpdatedBookings", fields: [updatedById], references: [id])
  payments           Payment[]
  reviews            Review[]

  @@index([checkInDate])
  @@index([checkOutDate])
  @@index([status])
  @@index([guestId])
  @@index([roomId])
  @@map("bookings")
}
